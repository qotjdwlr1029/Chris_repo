<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <h2>Store and retrieve data from local storage.</h2>

    <p id="demo"></p>
    <!-- 데이터를 저장할 때 반드시 text형태로 저장을 해야한다. -->
    <script>
      var myObj, myJSON, text, obj;

      //Storing data:
      myObj = {name: "John", age:31, city:"New York"};
      myJSON = JSON.stringify(myObj);
      //JSON타입을 입력하면 JSON 문자열로 변환한다.
      //myJSON = {"name": "John", "age":31, "city":"New York"}
      console.log(myJSON);
      localStorage.setItem("testJSON",myJSON );

      //Retrieving data:
      text = localStorage.getItem("testJSON");
      obj = JSON.parse(text);
      //localStorage로부터 testJSON이름으로 값을 얻어온 후에
      //JSON.parse메서드로 JSON문자열을 JSON문자열에 대응하는
      //객체를 만든다.
      document.getElementById("demo").innerHTML = obj.name;
    </script>
  </body>
</html>
